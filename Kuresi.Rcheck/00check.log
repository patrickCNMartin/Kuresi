* using log directory ‘/Users/martinp4/Documents/Cedars/Kuresi/Kuresi/Kuresi.Rcheck’
* using R version 4.4.3 (2025-02-28)
* using platform: aarch64-apple-darwin24.6.0
* R was compiled by
    clang version 19.1.7
    GNU Fortran (GCC) 14.3.0
* running under: macOS 26.1
* using session charset: UTF-8
* checking for file ‘Kuresi/DESCRIPTION’ ... OK
* checking extension type ... Package
* this is package ‘Kuresi’ version ‘0.0.1’
* package encoding: UTF-8
* checking package namespace information ... OK
* checking package dependencies ... NOTE
Vignette dependency required without any vignettes:: ‘knitr’
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking for hidden files and directories ... NOTE
Found the following hidden files and directories:
  .envrc
These were most likely included in error. See section ‘Package
structure’ in the ‘Writing R Extensions’ manual.
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘Kuresi’ can be installed ... OK
* checking installed package size ... NOTE
  installed size is 10.4Mb
  sub-directories of 1Mb or more:
    data  10.2Mb
* checking package directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking code files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... NOTE
Namespaces in Imports field not imported from:
  ‘ggpubr’ ‘hdf5r’ ‘patchwork’ ‘rjson’ ‘Seurat’ ‘utils’
  All declared Imports should be used.
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... NOTE
compute_elo: warning in assign("local_seed_rating",
  round(new_local_seed_rating), env = parent.frame()): partial argument
  match of 'env' to 'envir'
compute_elo: warning in assign("local_query_rating",
  round(new_local_query_rating), env = parent.frame()): partial
  argument match of 'env' to 'envir'
validate_input: warning in assign("counts", counts, env =
  parent.frame()): partial argument match of 'env' to 'envir'
validate_input: warning in assign("cells", c_1, env = parent.frame()):
  partial argument match of 'env' to 'envir'
validate_input: warning in assign("genes_1", g_1, env =
  parent.frame()): partial argument match of 'env' to 'envir'
validate_input: warning in assign("genes_2", g_2, env =
  parent.frame()): partial argument match of 'env' to 'envir'
validate_input: warning in assign("weights_1", weights_1_pad, env =
  parent.frame()): partial argument match of 'env' to 'envir'
validate_input: warning in assign("weights_2", weights_2_pad, env =
  parent.frame()): partial argument match of 'env' to 'envir'
validate_input: warning in assign("method", method[1L], env =
  parent.frame()): partial argument match of 'env' to 'envir'
check_grouping: no visible global function definition for ‘is’
score_plot: no visible global function definition for ‘is’
score_plot: no visible global function definition for ‘%>%’
score_plot: no visible binding for global variable ‘c.1’
score_plot: no visible binding for global variable ‘c.2’
score_plot: no visible binding for global variable ‘c.3’
score_plot: no visible binding for global variable ‘x’
score_plot: no visible binding for global variable ‘y’
score_plot: no visible binding for global variable ‘rgb_val’
validate_input: no visible global function definition for ‘is’
view_elo: no visible binding for global variable ‘Territory’
view_elo: no visible binding for global variable ‘ELO’
view_elo: no visible binding for global variable ‘Group’
view_scores: no visible global function definition for ‘%>%’
view_scores: no visible binding for global variable ‘Query’
view_scores: no visible binding for global variable ‘Seed’
view_scores: no visible binding for global variable ‘Score’
Undefined global functions or variables:
  %>% c.1 c.2 c.3 ELO Group is Query rgb_val Score Seed Territory x y
Consider adding
  importFrom("methods", "is")
to your NAMESPACE file (and ensure that your DESCRIPTION Imports field
contains 'methods').
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Undocumented code objects:
  ‘coord’ ‘view_scores’
Undocumented data sets:
  ‘coord’
All user-level objects in a package should have documentation entries.
See chapter ‘Writing R documentation files’ in the ‘Writing R
Extensions’ manual.
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of ‘data’ directory ... OK
* checking data for non-ASCII characters ... OK
* checking LazyData ... WARNING
  LazyData DB of 10.2 MB without LazyDataCompression set
  See §1.1.6 of 'Writing R Extensions'
* checking data for ASCII and uncompressed saves ... WARNING
  
  Note: significantly better compression could be obtained
        by using R CMD build --resave-data
             old_size new_size compress
  Kuresi.rda   10.7Mb    4.7Mb       xz
* checking examples ... NONE
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ... ERROR
  Running ‘testthat.r’
Running the tests in ‘tests/testthat.r’ failed.
Last 13 lines of output:
      ▆
   1. └─Kuresi::compute_ratio_bygroup(...) at test_ratio_scores.r:83:3
   2.   └─Kuresi::compute_ratio_score(...)
   3.     └─Kuresi:::validate_input(...)
  ── Error ('test_viz_utils.r:34:3'): generate_palette works ─────────────────────
  Error in `sort.int(x, na.last = na.last, decreasing = decreasing, ...)`: unused argument (descending = FALSE)
  Backtrace:
      ▆
   1. └─Kuresi::generate_palette(palette, seed, query) at test_viz_utils.r:34:3
   2.   ├─base::sort(union(seed, query), descending = FALSE)
   3.   └─base::sort.default(union(seed, query), descending = FALSE)
  
  [ FAIL 4 | WARN 0 | SKIP 0 | PASS 43 ]
  Error: Test failures
  Execution halted
* checking PDF version of manual ... OK
* DONE
Status: 1 ERROR, 3 WARNINGs, 5 NOTEs
